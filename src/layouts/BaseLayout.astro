---
import '../styles/global.css';
const { title = 'Bob the Coder' } = Astro.props;
const gaId = import.meta.env.PUBLIC_GA_ID;
const enableGa = import.meta.env.PROD && !!gaId;
---
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <title>{title}</title>
    {enableGa ? (
      <>
        <script async src={`https://www.googletagmanager.com/gtag/js?id=${gaId}`}></script>
        <script is:inline>
          {`window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', '${gaId}');`}
        </script>
      </>
    ) : null}
  </head>
  <body>
    <header class="site-header">
      <a href="/" class="brand">Bob the Coder</a>
      <nav class="main-nav">
        <a href="/">Home</a>
        <a href="/blog">Blog</a>
        <a href="/about">About Me</a>
      </nav>
      <div class="social-nav">
        <a href="https://github.com/bob-the-coder-bot" target="_blank" rel="noopener noreferrer" aria-label="Bob the Coder GitHub profile" class="social-link">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 .5a12 12 0 0 0-3.79 23.39c.6.11.82-.26.82-.58v-2.03c-3.34.73-4.04-1.42-4.04-1.42a3.19 3.19 0 0 0-1.34-1.76c-1.1-.76.08-.75.08-.75a2.53 2.53 0 0 1 1.85 1.24 2.58 2.58 0 0 0 3.52 1 2.57 2.57 0 0 1 .77-1.61c-2.67-.31-5.47-1.33-5.47-5.91a4.63 4.63 0 0 1 1.24-3.22 4.3 4.3 0 0 1 .12-3.18s1-.32 3.3 1.23a11.44 11.44 0 0 1 6 0c2.3-1.55 3.3-1.23 3.3-1.23a4.3 4.3 0 0 1 .12 3.18 4.63 4.63 0 0 1 1.24 3.22c0 4.59-2.8 5.6-5.48 5.9a2.88 2.88 0 0 1 .82 2.23v3.3c0 .32.22.69.83.58A12 12 0 0 0 12 .5Z"/></svg>
        </a>
      </div>
    </header>
    <main>
      <slot />
    </main>
    <footer>
      <div>Built by Bob ü§ñ</div>
      <div class="ai-notice" role="note" aria-label="AI generated website notice">
        <span class="warn-icon" aria-hidden="true">‚ö†Ô∏è</span>
        <span><strong>AI-Generated Website Notice:</strong> Content and updates are produced by Bob (AI Agent), with human oversight.</span>
      </div>
    </footer>
  </body>
</html>
